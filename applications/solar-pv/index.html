<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Solar PV - Guide | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="Solar PV Monitor">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://guide.openenergymonitor.org/applications/solar-pv/">

    <meta property="fb:app_id" content="xxxxxxxxxxxxxxx">
    <meta property="og:title" content="Solar PV">
    <meta property="og:site_name" content="Guide | OpenEnergyMonitor">
    <meta property="og:url" content="http://guide.openenergymonitor.org/applications/solar-pv/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Solar PV Monitor">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Solar PV">
    <meta name="twitter:description" content="Solar PV Monitor">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Guide | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
    
    
    
    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
	
  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <span>Guide | OpenEnergyMonitor</span>
  </a>
</div>

<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li>
    <a>Getting started <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href='/getting-started/'>Required Hardware</a></li>
      <li><a href='/getting-started/connect/'>Connect</a></li>
      <li><a href='/getting-started/local/'>Log Locally</a></li>
      <li><a href='/getting-started/remote/'>Log Remotely</a></li>
      <li><a href='/getting-started/dashboards/'>Dashboards</a></li>
      <li><a href='/getting-started/emontx'>Add Energy Nodes</a></li>
      <li><a href='/getting-started/emonth'>Add Temperature Nodes</a></li>
    </ul>
  </li>
  
  <li>
    <a>Applications <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href='/applications/home-energy'>Home Energy</a></li>
      <li><a href='/applications/solar-pv'>Solar PV</a></li>
      <li><a href='/advanced/'>Advanced</a></li>
    </ul>
  </li>

  <li>
    <a>Technical <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a href="/technical/">Overview</a></li>
      <li><a href="/technical/api/">API</a></li>
      <li><a href="/technical/software/">Software</a></li>
      <li><a href="/technical/hardware/">Hardware</a></li>
      <li><a href="/technical/website/">Website</a></li>
    </ul>
  </li>
  <li><a href="http://openenergymonitor.blogspot.com">Blog</a></li>
  <li><a href="/help/">Need help?</a></li>
</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="page">
  
  <div class='edit-github'><a href='https://github.com/openenergymonitor/guide/tree/master/source/applications/solar-pv.markdown'>Edit this page on GitHub</a></div>

  
  <header>
    <h1 class="title indent">
      Solar PV
    </h1>
  </header>
  <hr class="divider">
  

  <h1>Solar PV</h1>

<p>The OpenEnergyMonitor Solar Photovoltaic (PV) monitor is a tool to help you make the most of your solar generation, providing real-time and historic information on your solar generation compared to home consumption, helping you increase home use of your available solar power.</p>

<p><img src="/images/applications/solar-pv/my-solar-pv.jpg" alt="SolarPV" /></p>

<h2>Explore, visualise:</h2>

<ul>
  <li>Solar PV generation</li>
  <li>Home consumption</li>
  <li>Solar PV generation used on-site (self-consumption)</li>
  <li>Solar PV generation exported</li>
  <li>Electricity imported from the grid</li>
  <li>Real-time &amp; historic daily, monthly and annual totals</li>
</ul>

<h3>Contents</h3>

<ol>
  <li>Required Hardware</li>
  <li>Type 1 or Type 2 setup</li>
  <li>Input and feed setup</li>
  <li>Using the MySolarPV app</li>
</ol>

<h3>Required Hardware</h3>

<p>Solar PV monitoring can be achieved with either an emonPi or an emonPi + emonTx energy monitor.</p>

<h1>NEED TO ADD SHOP LINKS + PHOTO / ILLUSTRATION (maybe this section should go into getting-started hardware???</h1>

<p>The emonPi combines the monitoring functionality of the emonTx and base-station in one unit and is the recommended route in most installations where either</p>

<p>emonPi can be used if both the generation and consumption feeds are in the same physical location and WiFi/Ethernet connectivity is accesible at this location.</p>

<p>An emonTx can be added if the emonPi is required to be located at a different location e.g to access Etherent/WiFi or if solar PV gen / consumption feeds are in seperate locations. The emonTx communicates with the emonPi via low-power 433Mhz. Range is approximately similar to home WiFi (around 50-100m)</p>

<p>base-station can alternatively be used if ethernet is prefered and the meter cabinet does not have ethernet close by. The emoncms setup instructions below are applicable to both the emonPi and the emonTx where CT1 is solar generation and CT2 is either consumption <code>(type1)</code> or import/export <code>(type2)</code>.</p>

<h3><a class="title-link" name="install-hardware" href="#install-hardware"></a> Install Hardware</h3>

<p><img src="/images/applications/solar-pv/solar-pv-install.png" alt="Solar PV CT Install" /></p>

<p class="note">
the clip-on CT sensors must be clipped round either the live (red/brown in the UK), or neutral (blue in the UK) wire. Not both.
</p>

<p class="note warning">
Your safety is your responsibility. Clip-on current sensors are non-invasive and should not have direct contact with the AC mains. However, installing the sensors will require working in close proximity to cables carrying high voltage. As a precaution, we recommend ensuring the cables are fully isolated, i.e. power is switched off, prior to installing your sensors, and proceeding slowly with care. If you have any doubts, seek professional assistance.
</p>

<p><img src="/images/applications/solar-pv/solar-pv-ct1.jpg" alt="Solar PV CT Sensor Install 1" /></p>

<p><img src="/images/applications/solar-pv/solar-pv-ct2.jpg" alt="Solar PV CT Sensor Install 2" /></p>

<p><em>Above: CT installation on the live wire AC output from the PV inverter. Generation meter can be seen at the top right.</em></p>

<h4><a class="title-link" name="type-1-system" href="#type-1-system"></a> Type 1 System</h4>

<p>Use this when the generation and consumption can be monitored separately. The amount exported/imported to or from the grid is the difference between generation and consumption. Knowledge of the direction of the current is not required, therefore a plug-in AC-AC voltage sensor adapter is not essential but <strong>highly recommended</strong> for accurate readings.</p>

<h5>Type 1 Emoncms input setup</h5>

<p class="note">
For automatic MySolarPV app setup use the suggested feed names in bold below:
</p>

<p><strong>Setup Solar PV Generation Feed</strong></p>

<p><em>Assuming CT1 (power 1) = Solar Gen</em></p>

<ol>
  <li>Click on spanner icon to configure <code>emonPi/power1</code>.</li>
  <li>Select log to feed and create a feed called <strong>solar</strong> with the feed engine set to <code>PHPFin</code>a and feed <code>interval=10s</code></li>
  <li>Select power to kWh, create a feed called <strong>solar_kwh</strong> with feed engine <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
</ol>

<p><strong>Calculated export:</strong></p>

<ol>
  <li>Use subtract input <code>- input</code> to subtract home consumption from solar generation in order to calculate export as positive (import will be negative).</li>
  <li>Use allow positive in order to isolate the export component</li>
  <li>Select log to feed and create a feed called <strong>export</strong> with the feed engine set to PHPFina and feed interval set to 10 seconds.</li>
  <li>Select <code>power to kWh</code>, create a feed called <strong>export_kwh</strong> with feed engine <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
</ol>

<p><strong>Setup Consumption Feed</strong></p>

<p><em>Assuming CT2 (power 2) = Consumption</em></p>

<ol>
  <li>Click on spanner icon to configure <code>emonPi/power2</code>.</li>
  <li>Select log to feed and create a feed called <strong>use</strong> with the feed engine set to PHPFina and feed interval set to 10 seconds.</li>
  <li>Select <code>power to kWh</code>, create a feed called <strong>use_kwh</strong> with feed engine <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
</ol>

<p>Once complete click on <code>Apps &gt; MySolarPV</code> in order to launch the MySolarPV emoncms app, If you decide to use custom feed names the app will give you the option to select your solar, use and export feeds.</p>

<h4><a class="title-link" name="type-2-system" href="#type-2-system"></a> Type 2 System</h4>

<p>Use this when the generation and consumption cannot be monitored separately, i.e the PV inverter output is fed into a spare MCB (circuit breaker) in the fuse box. Other household loads are connected to other circuits in the same fuse box. If this is the case, the output from the PV inverter and the grid import/export connection will need to be monitored instead. Knowledge of the direction of the current is required to determine the difference between power import and export, therefore an AC-AC voltage sensor adapter is required.</p>

<p>When the AC-AC voltage sensor is used, (see below) the sign of the grid import/export power reading will depend on the orientation of the CT. To be compatible with the software examples included with this documentation, it is desirable to orient the CT on the grid import/export cable so the power reading is positive when importing, and negative when exporting. The correct orientation can be determined by trial and error.</p>

<h5>Type 2 Emoncms input setup</h5>

<p class="note">
For automatic MySolarPV app setup use the suggested feed names in bold below:
</p>

<p><strong>Setup Solar Gen Feed</strong></p>

<p><em>Assuming CT1 (power 1) = Solar Generation</em></p>

<ol>
  <li>Click on spanner icon to configure <code>emonPi/power1</code>.</li>
  <li>Select log to feed and create a feed called <strong>solar</strong> with the feed engine set to <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
  <li>Select <code>power to kWh</code>, create a feed called <strong>solar_kwh</strong> with feed engine <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
</ol>

<p><strong>Calculated consumption:</strong></p>

<p>Use subtract input (+ input) to add CT2 grid import/export to solar generation in order to calculate consumption.<br />
Select log to feed and create a feed called use with the feed engine set to PHPFina and feed interval set to 10 seconds.<br />
Select power to kWh, create a feed called use_kwh with feed engine PHPFina and feed interval set to 10 seconds.</p>

<p><strong>Setup Grid Import / Export Feed</strong></p>

<p><em>Assuming CT2 (power 2) = Grid import/export</em></p>

<ol>
  <li>Click on spanner icon to configure emonPi/power2.</li>
  <li>Multiply by <code>-1</code> to make export positive</li>
  <li>Select allow positive to isolate export component</li>
  <li>Select log to feed and create a feed called export with the feed engine set to <code>PHPFina</code> and feed <code>interval=10s</code>.<br />
Select <code>power to kWh</code>, create a feed called <strong>export_kwh</strong> with feed engine <code>PHPFina</code> and feed <code>interval=10s</code>.</li>
</ol>

<h3><a class="title-link" name="configure-mysolarpv-app" href="#configure-mysolarpv-app"></a> Configure MySolarPV App</h3>

<p>With your emonPi or emonTx inputs configured as above and with use of the suggested feed names the MySolarPV app will launch and work out of the box without further configuration required.</p>

<p>Alternatively the mysolar app will automatically show the configuration screen if it cant detect the expected feeds. Its then possible to select feeds from the drop down feed selector menus:</p>

<p>Once the required feeds are selected the Launch App button will appear.</p>

<p><img src="/images/applications/solar-pv/my-solarpv-config.png" alt="My Solar PV app config" /></p>

<h3><a class="title-link" name="configure-my-solar-app-power-view" href="#configure-my-solar-app-power-view"></a> Configure My Solar app power view</h3>

<p>The main view shows a moving window power view of solar generation vs consumption which can be used to explore matching at any given moment of the day. Consumption is shown in blue and solar generation in yellow. The totals at the bottom of the page relate to the current window selected and show at a glance how much of consumption was supplied directly from solar and how much of the solar generation was exported to the grid.</p>

<p><img src="/images/applications/solar-pv/my-solar-pv2.png" alt="My Solar PV app 2" /></p>

<h3><a class="title-link" name="my-solar-history-view" href="#my-solar-history-view"></a> My Solar history view</h3>

<p>Clicking on view history brings up a bargraph showing solar generation and consumption on a daily basis. Including how much of the solar generation is used directly on site and how much is exported.</p>

<p><img src="/images/applications/solar-pv/my-solar-pv2.png" alt="My Solar PV app 1" /></p>


</article>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
    <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">OpenEnergyMonitor</h1>
  <ul class="divided">
    <li>
      A project to develop open-source energy monitoring tools to help us relate to our use of energy, our energy systems and the challenge of sustainable energy.
    </li>
    <li><a href='https://openenergymonitor.org/emon/opensustech'>Open-Source Tools</a></li>
    <li><a href='https://openenergymonitor.org/emon/sustainable-energy'>Sustainable Energy</a> </li>
  </ul>
  <p>
  <h1 class="title delta">Emoncms</h1>
  <ul class="divided">
    <li>
      Emoncms is a powerful open-source web-app for processing, logging and visualising energy, temperature and other environmental data.
    </li>
    <li><a href='https://emoncms.org'>Emoncms.org</a></li>
    <li><a href='https://github.com/emoncms'>Emoncms Github</a> </li>
  </ul>
</section>

    
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">
  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor'><i class="icon-github"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and the <a href='https://github.com/coogie/oscailte'>Oscalite theme</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-3'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>



<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>